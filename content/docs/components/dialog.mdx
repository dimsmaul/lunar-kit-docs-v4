---
sidebar_position: 12
title: Dialog
description: A modal dialog component for important content
---

# Dialog

A modal dialog that interrupts the user with important content and expects a response.

## Installation

```bash
lunar add dialog
```

## Usage

```tsx
import {
  Dialog,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogDescription,
  DialogFooter,
  DialogClose,
} from '@/components/ui/dialog';
```

### Basic Usage

```tsx
<Dialog>
  <DialogTrigger>
    <Button>Open Dialog</Button>
  </DialogTrigger>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>Dialog Title</DialogTitle>
      <DialogDescription>
        This is the dialog description.
      </DialogDescription>
    </DialogHeader>
    <DialogFooter>
      <DialogClose>
        <Button variant="outline">Cancel</Button>
      </DialogClose>
      <Button>Continue</Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

### Controlled State

```tsx
const [open, setOpen] = useState(false);

<Dialog open={open} onOpenChange={setOpen}>
  <DialogTrigger>
    <Button>Open Dialog</Button>
  </DialogTrigger>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>Controlled Dialog</DialogTitle>
      <DialogDescription>
        This dialog's state is controlled externally.
      </DialogDescription>
    </DialogHeader>
    <DialogFooter>
      <Button onPress={() => setOpen(false)}>Close</Button>
    </DialogFooter>
  </DialogContent>
</Dialog>

{/* Open programmatically */}
<Button onPress={() => setOpen(true)}>
  Open from outside
</Button>
```

### With Form Content

```tsx
<Dialog>
  <DialogTrigger>
    <Button>Edit Profile</Button>
  </DialogTrigger>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>Edit Profile</DialogTitle>
      <DialogDescription>
        Make changes to your profile here.
      </DialogDescription>
    </DialogHeader>
    
    <View className="gap-4 py-4">
      <Input
        label="Name"
        value={name}
        onChangeText={setName}
      />
      <Input
        label="Email"
        value={email}
        onChangeText={setEmail}
      />
    </View>
    
    <DialogFooter>
      <DialogClose>
        <Button variant="outline">Cancel</Button>
      </DialogClose>
      <Button onPress={handleSave}>Save Changes</Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

### Confirmation Dialog

```tsx
export function ConfirmDialog({ onConfirm, onCancel }) {
  return (
    <Dialog>
      <DialogTrigger>
        <Button variant="destructive">Delete Account</Button>
      </DialogTrigger>
      <DialogContent>
        <DialogHeader>
          <DialogTitle>Are you sure?</DialogTitle>
          <DialogDescription>
            This action cannot be undone. This will permanently delete your
            account and remove your data from our servers.
          </DialogDescription>
        </DialogHeader>
        <DialogFooter>
          <DialogClose>
            <Button variant="outline" onPress={onCancel}>
              Cancel
            </Button>
          </DialogClose>
          <Button variant="destructive" onPress={onConfirm}>
            Delete
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}
```

## API Reference

### Dialog

Root component that manages dialog state.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `open` | `boolean` | — | Controlled open state |
| `onOpenChange` | `(open: boolean) => void` | — | Callback when state changes |
| `children` | `ReactNode` | Required | Dialog content |

### DialogTrigger

Button that opens the dialog.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | Required | Trigger element |

### DialogContent

The modal content container.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | Required | Dialog content |
| `className` | `string` | — | Additional classes |

### DialogHeader

Container for title and description.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | Required | Header content |
| `className` | `string` | — | Additional classes |

### DialogTitle

The dialog title.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | Required | Title text |
| `className` | `string` | — | Additional classes |

### DialogDescription

Description text below the title.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | Required | Description text |
| `className` | `string` | — | Additional classes |

### DialogFooter

Container for action buttons.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | Required | Footer content |
| `className` | `string` | — | Additional classes |

### DialogClose

Closes the dialog when pressed.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | Required | Close trigger |

## Examples

### Alert Dialog

```tsx
export function AlertDialog({ title, message, onOk }) {
  const [open, setOpen] = useState(false);

  return (
    <Dialog open={open} onOpenChange={setOpen}>
      <DialogContent>
        <DialogHeader>
          <DialogTitle>{title}</DialogTitle>
          <DialogDescription>{message}</DialogDescription>
        </DialogHeader>
        <DialogFooter>
          <Button
            onPress={() => {
              onOk?.();
              setOpen(false);
            }}
          >
            OK
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}

// Usage
const alertRef = useRef();
alertRef.current?.show('Success', 'Your changes have been saved.');
```

### Login Dialog

```tsx
export function LoginDialog() {
  const [open, setOpen] = useState(false);
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');

  const handleLogin = async () => {
    // Perform login
    await login(email, password);
    setOpen(false);
  };

  return (
    <Dialog open={open} onOpenChange={setOpen}>
      <DialogTrigger>
        <Button variant="outline">Sign In</Button>
      </DialogTrigger>
      <DialogContent>
        <DialogHeader>
          <DialogTitle>Sign In</DialogTitle>
          <DialogDescription>
            Enter your credentials to continue.
          </DialogDescription>
        </DialogHeader>
        
        <View className="gap-4 py-4">
          <Input
            label="Email"
            value={email}
            onChangeText={setEmail}
            keyboardType="email-address"
            autoCapitalize="none"
          />
          <Input
            label="Password"
            value={password}
            onChangeText={setPassword}
            secureTextEntry
          />
        </View>
        
        <DialogFooter>
          <DialogClose>
            <Button variant="ghost">Cancel</Button>
          </DialogClose>
          <Button onPress={handleLogin}>Sign In</Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}
```

### Share Dialog

```tsx
export function ShareDialog({ url }) {
  const [open, setOpen] = useState(false);

  const copyLink = () => {
    Clipboard.setString(url);
    setOpen(false);
  };

  return (
    <Dialog open={open} onOpenChange={setOpen}>
      <DialogTrigger>
        <Button variant="ghost" size="icon">
          <Share size={20} />
        </Button>
      </DialogTrigger>
      <DialogContent>
        <DialogHeader>
          <DialogTitle>Share</DialogTitle>
          <DialogDescription>
            Share this link with others.
          </DialogDescription>
        </DialogHeader>
        
        <View className="flex-row items-center gap-2 p-3 bg-muted rounded-lg">
          <Text className="flex-1 text-sm" numberOfLines={1}>
            {url}
          </Text>
          <Button size="sm" variant="outline" onPress={copyLink}>
            Copy
          </Button>
        </View>
        
        <View className="flex-row justify-around py-4">
          <Pressable className="items-center gap-2">
            <View className="w-12 h-12 rounded-full bg-blue-500 items-center justify-center">
              <Twitter size={20} color="white" />
            </View>
            <Text size="sm">Twitter</Text>
          </Pressable>
          {/* More share options */}
        </View>
      </DialogContent>
    </Dialog>
  );
}
```

### Settings Dialog

```tsx
export function SettingsDialog() {
  const [open, setOpen] = useState(false);
  const [settings, setSettings] = useState({
    notifications: true,
    darkMode: false,
    analytics: true,
  });

  const handleSave = () => {
    saveSettings(settings);
    setOpen(false);
  };

  return (
    <Dialog open={open} onOpenChange={setOpen}>
      <DialogTrigger>
        <Button variant="ghost" size="icon">
          <Settings size={20} />
        </Button>
      </DialogTrigger>
      <DialogContent>
        <DialogHeader>
          <DialogTitle>Settings</DialogTitle>
        </DialogHeader>
        
        <View className="gap-4 py-4">
          <Checkbox
            checked={settings.notifications}
            onCheckedChange={(checked) =>
              setSettings({ ...settings, notifications: checked })
            }
          >
            <CheckboxLabel>Push Notifications</CheckboxLabel>
          </Checkbox>
          
          <Checkbox
            checked={settings.darkMode}
            onCheckedChange={(checked) =>
              setSettings({ ...settings, darkMode: checked })
            }
          >
            <CheckboxLabel>Dark Mode</CheckboxLabel>
          </Checkbox>
          
          <Checkbox
            checked={settings.analytics}
            onCheckedChange={(checked) =>
              setSettings({ ...settings, analytics: checked })
            }
          >
            <CheckboxLabel>Analytics</CheckboxLabel>
          </Checkbox>
        </View>
        
        <DialogFooter>
          <DialogClose>
            <Button variant="outline">Cancel</Button>
          </DialogClose>
          <Button onPress={handleSave}>Save</Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}
```

## Animation

The dialog uses Animated API for smooth entrance and exit:

- **Scale animation** — Dialog scales from 0.9 to 1
- **Fade animation** — Background and content fade in/out
- **Spring physics** — Natural feeling animation

## Accessibility

- Closes on pressing the backdrop
- Supports hardware back button (Android)
- Focus management for form inputs
