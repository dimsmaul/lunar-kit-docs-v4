---
sidebar_position: 9
title: Checkbox
description: A control that allows users to select multiple options
---

# Checkbox

A control that allows the user to toggle between checked and not checked.

## Installation

```bash
lunar add checkbox
```

## Usage

```tsx
import { Checkbox, CheckboxLabel, CheckboxDescription } from '@/components/ui/checkbox';
```

### Basic Usage

```tsx
const [checked, setChecked] = useState(false);

<Checkbox checked={checked} onCheckedChange={setChecked} />
```

### With Label

```tsx
<Checkbox checked={checked} onCheckedChange={setChecked}>
  <CheckboxLabel>Accept terms and conditions</CheckboxLabel>
</Checkbox>
```

### With Description

```tsx
<Checkbox checked={checked} onCheckedChange={setChecked}>
  <View>
    <CheckboxLabel>Marketing emails</CheckboxLabel>
    <CheckboxDescription>
      Receive emails about new products, features, and more.
    </CheckboxDescription>
  </View>
</Checkbox>
```

### Sizes

```tsx
<Checkbox size="sm" checked={checked} onCheckedChange={setChecked}>
  <CheckboxLabel>Small</CheckboxLabel>
</Checkbox>

<Checkbox size="md" checked={checked} onCheckedChange={setChecked}>
  <CheckboxLabel>Medium (default)</CheckboxLabel>
</Checkbox>

<Checkbox size="lg" checked={checked} onCheckedChange={setChecked}>
  <CheckboxLabel>Large</CheckboxLabel>
</Checkbox>
```

### Indeterminate State

For "select all" scenarios:

```tsx
const [items, setItems] = useState([
  { id: 1, checked: true },
  { id: 2, checked: false },
  { id: 3, checked: true },
]);

const allChecked = items.every(item => item.checked);
const someChecked = items.some(item => item.checked);

<Checkbox
  checked={allChecked}
  indeterminate={someChecked && !allChecked}
  onCheckedChange={(checked) => {
    setItems(items.map(item => ({ ...item, checked })));
  }}
>
  <CheckboxLabel>Select All</CheckboxLabel>
</Checkbox>
```

### Disabled State

```tsx
<Checkbox disabled checked={false}>
  <CheckboxLabel>Disabled unchecked</CheckboxLabel>
</Checkbox>

<Checkbox disabled checked={true}>
  <CheckboxLabel>Disabled checked</CheckboxLabel>
</Checkbox>
```

## API Reference

### Checkbox

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `checked` | `boolean` | `false` | Whether checkbox is checked |
| `onCheckedChange` | `(checked: boolean) => void` | — | Callback when state changes |
| `children` | `ReactNode` | — | Label content |
| `size` | `'sm' \| 'md' \| 'lg'` | `'md'` | Checkbox size |
| `disabled` | `boolean` | `false` | Disable the checkbox |
| `indeterminate` | `boolean` | `false` | Show indeterminate state |
| `className` | `string` | — | Additional classes |

### CheckboxLabel

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | Required | Label text |
| `className` | `string` | — | Additional classes |

### CheckboxDescription

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | Required | Description text |
| `className` | `string` | — | Additional classes |

## Examples

### Checkbox Group

```tsx
export function CheckboxGroup() {
  const [selected, setSelected] = useState<string[]>([]);

  const options = [
    { value: 'email', label: 'Email notifications' },
    { value: 'sms', label: 'SMS notifications' },
    { value: 'push', label: 'Push notifications' },
  ];

  const toggleOption = (value: string) => {
    setSelected((prev) =>
      prev.includes(value)
        ? prev.filter((v) => v !== value)
        : [...prev, value]
    );
  };

  return (
    <View className="gap-3">
      {options.map((option) => (
        <Checkbox
          key={option.value}
          checked={selected.includes(option.value)}
          onCheckedChange={() => toggleOption(option.value)}
        >
          <CheckboxLabel>{option.label}</CheckboxLabel>
        </Checkbox>
      ))}
    </View>
  );
}
```

### Terms Agreement

```tsx
export function TermsAgreement({ onAgree }) {
  const [agreed, setAgreed] = useState(false);

  return (
    <View className="gap-4">
      <Checkbox checked={agreed} onCheckedChange={setAgreed}>
        <View className="flex-1">
          <Text size="sm">
            I agree to the{' '}
            <Text className="text-primary" onPress={() => openTerms()}>
              Terms of Service
            </Text>
            {' '}and{' '}
            <Text className="text-primary" onPress={() => openPrivacy()}>
              Privacy Policy
            </Text>
          </Text>
        </View>
      </Checkbox>
      
      <Button disabled={!agreed} onPress={onAgree}>
        Continue
      </Button>
    </View>
  );
}
```

### Settings List

```tsx
export function SettingsList() {
  const [settings, setSettings] = useState({
    notifications: true,
    marketing: false,
    analytics: true,
  });

  const updateSetting = (key: string) => {
    setSettings((prev) => ({
      ...prev,
      [key]: !prev[key],
    }));
  };

  return (
    <Card>
      <CardHeader>
        <CardTitle>Preferences</CardTitle>
      </CardHeader>
      <CardContent>
        <View className="gap-4">
          <Checkbox
            checked={settings.notifications}
            onCheckedChange={() => updateSetting('notifications')}
          >
            <View className="flex-1">
              <CheckboxLabel>Push Notifications</CheckboxLabel>
              <CheckboxDescription>
                Receive push notifications on your device
              </CheckboxDescription>
            </View>
          </Checkbox>

          <Checkbox
            checked={settings.marketing}
            onCheckedChange={() => updateSetting('marketing')}
          >
            <View className="flex-1">
              <CheckboxLabel>Marketing Emails</CheckboxLabel>
              <CheckboxDescription>
                Receive updates about new products and offers
              </CheckboxDescription>
            </View>
          </Checkbox>

          <Checkbox
            checked={settings.analytics}
            onCheckedChange={() => updateSetting('analytics')}
          >
            <View className="flex-1">
              <CheckboxLabel>Analytics</CheckboxLabel>
              <CheckboxDescription>
                Help us improve by sharing usage data
              </CheckboxDescription>
            </View>
          </Checkbox>
        </View>
      </CardContent>
    </Card>
  );
}
```

### Select All Pattern

```tsx
export function SelectAllExample() {
  const [items, setItems] = useState([
    { id: 1, name: 'Item 1', selected: false },
    { id: 2, name: 'Item 2', selected: false },
    { id: 3, name: 'Item 3', selected: false },
  ]);

  const allSelected = items.every((item) => item.selected);
  const someSelected = items.some((item) => item.selected);

  const toggleAll = (checked: boolean) => {
    setItems(items.map((item) => ({ ...item, selected: checked })));
  };

  const toggleItem = (id: number) => {
    setItems(
      items.map((item) =>
        item.id === id ? { ...item, selected: !item.selected } : item
      )
    );
  };

  return (
    <View className="gap-4">
      <Checkbox
        checked={allSelected}
        indeterminate={someSelected && !allSelected}
        onCheckedChange={toggleAll}
      >
        <CheckboxLabel>Select All</CheckboxLabel>
      </Checkbox>

      <View className="ml-6 gap-2 border-l border-border pl-4">
        {items.map((item) => (
          <Checkbox
            key={item.id}
            checked={item.selected}
            onCheckedChange={() => toggleItem(item.id)}
          >
            <CheckboxLabel>{item.name}</CheckboxLabel>
          </Checkbox>
        ))}
      </View>
    </View>
  );
}
```

### Form Integration

```tsx
import { useForm, Controller } from 'react-hook-form';

export function FormWithCheckbox() {
  const { control, handleSubmit } = useForm({
    defaultValues: {
      newsletter: false,
      terms: false,
    },
  });

  return (
    <View className="gap-4">
      <Controller
        control={control}
        name="newsletter"
        render={({ field: { value, onChange } }) => (
          <Checkbox checked={value} onCheckedChange={onChange}>
            <CheckboxLabel>Subscribe to newsletter</CheckboxLabel>
          </Checkbox>
        )}
      />

      <Controller
        control={control}
        name="terms"
        rules={{ required: 'You must accept the terms' }}
        render={({ field: { value, onChange }, fieldState: { error } }) => (
          <View>
            <Checkbox checked={value} onCheckedChange={onChange}>
              <CheckboxLabel>Accept terms and conditions</CheckboxLabel>
            </Checkbox>
            {error && (
              <Text className="text-destructive text-sm mt-1">
                {error.message}
              </Text>
            )}
          </View>
        )}
      />

      <Button onPress={handleSubmit(onSubmit)}>Submit</Button>
    </View>
  );
}
```
